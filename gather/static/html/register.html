<!doctype html>
<html  lang="en">

<head>
    <!-- meta data -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!--font-family-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&amp;subset=devanagari,latin-ext" rel="stylesheet">

    <!-- title of site -->
    <title>登陆</title>

    <!-- For favicon png -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/5.10.0-12/css/fontawesome.min.css">

    <!--animate.css-->
    <link rel="stylesheet" href="https://cdn.bootcss.com/animate.css/3.7.2/animate.css">

    <!--bootstrap.min.css-->
    <link rel="stylesheet" href="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/css/bootstrap.min.css">

    <!-- bootsnav -->
    <link rel="stylesheet" href="static/css/login_register/bootsnav.css" >

    <!--style.css-->
    <link rel="stylesheet" href="static/css/login_register/login_register.css">

    <!--responsive.css-->
    <link rel="stylesheet" href="static/css/login_register/responsive.css">
    <!--跳转动画-->
    <link rel="stylesheet" type="text/css" href="static/css/login_register/dialog.css">

</head>

	<body>
		<!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->

		<!-- signin end -->
		<section class="signin signup popup-up">
			<div class="container">

				<div class="sign-content popup-in-content">
					<div class="popup-in-txt">
						<h2>注册</h2>

						<div class="row">
							<div class="col-sm-12">
								<div class="signin-form">
									<form>
                                        <div class="form-group">
											<label for="signin_form">用户名</label>
										    <input type="text" class="form-control" id="username" placeholder="英文、数字组成">
										</div><!--/.form-group -->
										<div class="form-group">
											<label for="signin_form">邮箱</label>
										    <input type="email" class="form-control" id="email" placeholder="请输入邮箱">
										</div><!--/.form-group -->
										<div class="form-group">
											<label for="signin_form">密码</label>
										    <input type="password" class="form-control" id="password" placeholder="请输入密码">
										</div><!--/.form-group -->
										<div class="form-group">
											<label for="signin_form">重复密码</label>
										    <input type="password" class="form-control" id="password2" placeholder="重复输入密码">
										</div><!--/.form-group -->
                                        <div class="form-col">
											<div class="form-group">
											    <label for="signin_form">图片验证码</label>
											    <input type="text" class="form-control" id="signin_form" placeholder="区分大小写">
											</div><!--/.form-group -->
										</div><!--/.form-col -->
										<div class="form-col">
											<div class="form-group">
												<label for="signin_form">&nbsp;</label>
											    <div class="input-group-addon image-code" onclick="generateImageCode();"><img src=""></div>
											</div><!--/.form-group -->
										</div><!--/.form-col1 -->
									</form><!--/form -->
								</div><!--/.signin-form -->
							</div><!--/.col -->
						</div><!--/.row -->

						<div class="row">
							<div class="col-sm-12">
								<div class="signin-password">
									<div class="awesome-checkbox-list">
										<ul class="unstyled centered">

											<li>
											    <input class="styled-checkbox" id="styled-checkbox-2" type="checkbox" value="value2">
											    <label for="styled-checkbox-2">我已阅读并同意相关服务条款和隐私政策</label>
											</li>

											<li></li>

										</ul>
									</div><!--/.awesome-checkbox-list -->
								</div><!--/.signin-password -->
							</div><!--/.col -->
						</div><!--/.row -->


						<div class="row">
							<div class="col-sm-12">
								<div class="signin-footer">
									<input type="submit" class="btn signin_btn" value="注册" id="register_js">
									<p>
										想起账号密码了 ?
										<a href="login.html">登陆</a>
									</p>
								</div><!--/.signin-footer -->
							</div><!--/.col-->
						</div><!--/.row -->
					</div><!-- .popup-in-txt -->
				</div><!--/.sign-content -->
			</div><!--/.container -->

		</section><!--/.signin -->

		<!-- signin end -->

		<!--footer copyright start -->
		<footer class="footer-copyright">
			<div id="scroll-Top">
				<i class="fa fa-angle-double-up return-to-top" id="scroll-top" data-toggle="tooltip" data-placement="top" title="" data-original-title="Back to Top" aria-hidden="true"></i>
			</div><!--/.scroll-Top-->

		</footer><!--/.hm-footer-copyright-->
		<!--footer copyright  end -->


<!-- Include all js compiled plugins (below), or include individual files as needed -->

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>

<!--modernizr.min.js-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>

<!--bootstrap.min.js-->
<script src="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>

<!-- bootsnav js -->
<script src="static/js/login_register/bootsnav.js"></script>

<!-- jquery.sticky.js -->
<script src="https://cdn.bootcss.com/jquery.sticky/1.0.4/jquery.sticky.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>

<!--跳转动画-->
<script type="text/javascript" src="static/js/login_register/zepto.min.js"></script>
<script type="text/javascript" src="static/js/login_register/dialog.min.js"></script>
{#<script type="text/javascript" src="static/js/gather/register.js"></script>#}

<script type="text/javascript" src="static/js/gather/register.js"></script>

<!--Custom JS-->
<script src="static/js/login_register/custom.js"></script>

<script>
    $(function () {
        $('#register_js').on('click', function () {
            $.ajax({
                url:"/api/V1.0/register",
                dataType:"json",
                async:true,
                data:{
                    "username": $('#username').val(),
                    "email": $('#email').val(),
                    "password": $('#password').val(),
                    "password2": $('#password2').val()
                },
                type:"POST",
                beforeSend:function(){
                },
                success:function(data){
                    if (data.status===1){
                        popup({type:'load',msg:"验证注册中",delay:1000,callBack:function(){
	                        popup({type:'error',msg:"该邮箱已注册",delay:2000,bg:true,clickDomCancel:true});
                        }});
                    }else if (data.status===2){
                        popup({type:'load',msg:"验证注册中",delay:1000,callBack:function(){
	                        popup({type:'error',msg:"密码输入不一致",delay:2000,bg:true,clickDomCancel:true});
                        }});
                    }else if (data.status===3){
                        popup({type:'load',msg:"验证注册中",delay:1000,callBack:function(){
	                        popup({type:"success",msg:"注册成功 正在跳转",delay:1500,callBack:function () {
	                                window.location.href="login.html"
                                }});
                        }});

                    }
                },
                complete:function(){
                },
                error:function(){
                    alert('出错了')
                }
            })
        })
    })
</script>
    </body>

</html>